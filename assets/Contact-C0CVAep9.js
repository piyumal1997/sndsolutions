import{r as s,t as ie,j as t,k as x,F as k,u as W,v as ce,w as de,x as ue}from"./index-WnLAA-_7.js";var D=function(){return D=Object.assign||function(e){for(var n,i=1,d=arguments.length;i<d;i++)for(var p in n=arguments[i])Object.prototype.hasOwnProperty.call(n,p)&&(e[p]=n[p]);return e},D.apply(this,arguments)},V,me=function(e){var n;e?(function(i){if(i)for(;i.lastChild;)i.lastChild.remove()})(typeof e=="string"?document.getElementById(e):e):(n=document.querySelector(".grecaptcha-badge"))&&n.parentNode&&document.body.removeChild(n.parentNode)},pe=function(e,n){me(n),window.___grecaptcha_cfg=void 0;var i=document.querySelector("#"+e);i&&i.remove(),(function(){var d=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');d&&d.remove()})()},fe=function(e){var n=e.render,i=e.onLoadCallbackName,d=e.language,p=e.onLoad,S=e.useRecaptchaNet,a=e.useEnterprise,j=e.scriptProps,r=j===void 0?{}:j,C=r.nonce,w=C===void 0?"":C,u=r.defer,g=u!==void 0&&u,y=r.async,R=y!==void 0&&y,E=r.id,$=E===void 0?"":E,L=r.appendTo,N=$||"google-recaptcha-v3";if((function(b){return!!document.querySelector("#"+b)})(N))p();else{var M=(function(b){return"https://www."+(b.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(b.useEnterprise?"enterprise.js":"api.js")})({useEnterprise:a,useRecaptchaNet:S}),m=document.createElement("script");m.id=N,m.src=M+"?render="+n+(n==="explicit"?"&onload="+i:"")+(d?"&hl="+d:""),w&&(m.nonce=w),m.defer=!!g,m.async=!!R,m.onload=p,(L==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(m)}},X=function(e){console.warn(e)};(function(e){e.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(V||(V={}));var K=s.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});K.Consumer;function xe(e){var n=e.reCaptchaKey,i=e.useEnterprise,d=i!==void 0&&i,p=e.useRecaptchaNet,S=p!==void 0&&p,a=e.scriptProps,j=e.language,r=e.container,C=e.children,w=s.useState(null),u=w[0],g=w[1],y=s.useRef(n),R=JSON.stringify(a),E=JSON.stringify(r?.parameters);s.useEffect((function(){if(n){var N=a?.id||"google-recaptcha-v3",M=a?.onLoadCallbackName||"onRecaptchaLoadCallback";return window[M]=function(){var m=d?window.grecaptcha.enterprise:window.grecaptcha,b=D({badge:"inline",size:"invisible",sitekey:n},r?.parameters||{});y.current=m.render(r?.element,b)},fe({render:r?.element?"explicit":n,onLoadCallbackName:M,useEnterprise:d,useRecaptchaNet:S,scriptProps:a,language:j,onLoad:function(){if(window&&window.grecaptcha){var m=d?window.grecaptcha.enterprise:window.grecaptcha;m.ready((function(){g(m)}))}else X("<GoogleRecaptchaProvider /> "+V.SCRIPT_NOT_AVAILABLE)}}),function(){pe(N,r?.element)}}X("<GoogleReCaptchaProvider /> recaptcha key not provided")}),[d,S,R,E,j,n,r?.element]);var $=s.useCallback((function(N){if(!u||!u.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return u.execute(y.current,{action:N})}),[u,y]),L=s.useMemo((function(){return{executeRecaptcha:u?$:void 0,container:r?.element}}),[$,u,r?.element]);return ie.createElement(K.Provider,{value:L},C)}var he=function(){return s.useContext(K)};function re(e,n){return e(n={exports:{}},n.exports),n.exports;}var c=typeof Symbol=="function"&&Symbol.for,Y=c?Symbol.for("react.element"):60103,J=c?Symbol.for("react.portal"):60106,O=c?Symbol.for("react.fragment"):60107,_=c?Symbol.for("react.strict_mode"):60108,A=c?Symbol.for("react.profiler"):60114,F=c?Symbol.for("react.provider"):60109,I=c?Symbol.for("react.context"):60110,U=c?Symbol.for("react.async_mode"):60111,B=c?Symbol.for("react.concurrent_mode"):60111,T=c?Symbol.for("react.forward_ref"):60112,z=c?Symbol.for("react.suspense"):60113,ge=c?Symbol.for("react.suspense_list"):60120,G=c?Symbol.for("react.memo"):60115,H=c?Symbol.for("react.lazy"):60116,ye=c?Symbol.for("react.block"):60121,be=c?Symbol.for("react.fundamental"):60117,ve=c?Symbol.for("react.responder"):60118,je=c?Symbol.for("react.scope"):60119;function f(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case Y:switch(e=e.type){case U:case B:case O:case A:case _:case z:return e;default:switch(e=e&&e.$$typeof){case I:case T:case H:case G:case F:return e;default:return n}}case J:return n}}}function Z(e){return f(e)===B}var we={AsyncMode:U,ConcurrentMode:B,ContextConsumer:I,ContextProvider:F,Element:Y,ForwardRef:T,Fragment:O,Lazy:H,Memo:G,Portal:J,Profiler:A,StrictMode:_,Suspense:z,isAsyncMode:function(e){return Z(e)||f(e)===U},isConcurrentMode:Z,isContextConsumer:function(e){return f(e)===I},isContextProvider:function(e){return f(e)===F},isElement:function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Y},isForwardRef:function(e){return f(e)===T},isFragment:function(e){return f(e)===O},isLazy:function(e){return f(e)===H},isMemo:function(e){return f(e)===G},isPortal:function(e){return f(e)===J},isProfiler:function(e){return f(e)===A},isStrictMode:function(e){return f(e)===_},isSuspense:function(e){return f(e)===z},isValidElementType:function(e){return typeof e=="string"||typeof e=="function"||e===O||e===B||e===A||e===_||e===z||e===ge||typeof e=="object"&&e!==null&&(e.$$typeof===H||e.$$typeof===G||e.$$typeof===F||e.$$typeof===I||e.$$typeof===T||e.$$typeof===be||e.$$typeof===ve||e.$$typeof===je||e.$$typeof===ye)},typeOf:f},o=re((function(e,n){})),ee=(o.AsyncMode,o.ConcurrentMode,o.ContextConsumer,o.ContextProvider,o.Element,o.ForwardRef,o.Fragment,o.Lazy,o.Memo,o.Portal,o.Profiler,o.StrictMode,o.Suspense,o.isAsyncMode,o.isConcurrentMode,o.isContextConsumer,o.isContextProvider,o.isElement,o.isForwardRef,o.isFragment,o.isLazy,o.isMemo,o.isPortal,o.isProfiler,o.isStrictMode,o.isSuspense,o.isValidElementType,o.typeOf,re((function(e){e.exports=we}))),Ne={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},te={};te[ee.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},te[ee.Memo]=Ne;const Se="/assets/contact-bg-Dt12jX-V.jpg",Ce=()=>{const[e,n]=s.useState(!1),[i,d]=s.useState(null),[p,S]=s.useState(!1),[a,j]=s.useState({name:"",email:"",phone:"",inquiry_type:"",message:""}),[r,C]=s.useState({}),{executeRecaptcha:w}=he(),u=s.useRef(null),g=s.useRef(null),[y,R]=s.useState(null),[E,$]=s.useState(null),[L,N]=s.useState(!1),[M,m]=s.useState(!1),b=x.location,Q={lat:6.93,lng:79.861944},ne=`https://maps.google.com/maps?q=${b.lat},${b.lng}&hl=en&z=15&output=embed`,oe=`https://maps.google.com/maps?q=${Q.lat},${Q.lng}&hl=en&z=15&output=embed`;s.useEffect(()=>{const l=new IntersectionObserver(v=>{v.forEach(h=>{h.isIntersecting&&(R(ne),l.unobserve(h.target))})},{rootMargin:"150px"});return u.current&&l.observe(u.current),()=>{u.current&&l.unobserve(u.current)}},[]),s.useEffect(()=>{const l=new IntersectionObserver(v=>{v.forEach(h=>{h.isIntersecting&&($(oe),l.unobserve(h.target))})},{rootMargin:"150px"});return g.current&&l.observe(g.current),()=>{g.current&&l.unobserve(g.current)}},[]);const q=l=>{const{name:v,value:h}=l.target;j(P=>({...P,[v]:h})),C(P=>({...P,[v]:""})),d(null)},ae=()=>{const l={};return a.name.trim()||(l.name="Name is required"),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(l.email="Email is invalid"):l.email="Email is required",a.phone&&!/^\+?\d{10,15}$/.test(a.phone.replace(/\s/g,""))&&(l.phone="Invalid phone number (10-15 digits)"),a.inquiry_type||(l.inquiry_type="Please select inquiry type"),a.message.trim()||(l.message="Message is required"),l},se=async l=>{l.preventDefault(),d(null);const v=ae();if(Object.keys(v).length>0){C(v);return}if(!w){d("reCAPTCHA not loaded. Please refresh the page.");return}S(!0);try{const h=await w("inquiryForm"),P=await fetch("https://riflxhbxduomczyszbmw.supabase.co/functions/v1/submit-inquiry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,recaptcha_token:h})});if(!P.ok){const le=await P.text();throw new Error(le||"Submission failed")}n(!0),j({name:"",email:"",phone:"",inquiry_type:"",message:""})}catch(h){d(h.message||"Something went wrong. Please try again.")}finally{S(!1)}};return t.jsxs("main",{className:"pt-0 bg-white",children:[t.jsxs("section",{className:"relative h-96",children:[t.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed",style:{backgroundImage:`url(${Se})`}}),t.jsx("div",{className:"absolute inset-0 bg-black/50"}),t.jsx("div",{className:"relative container mx-auto px-6 h-full flex items-center justify-center text-center text-white",children:t.jsxs("div",{className:"max-w-5xl",children:[t.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 drop-shadow-2xl",children:"Contact Us"}),t.jsx("p",{className:"text-xl md:text-2xl max-w-3xl mx-auto drop-shadow-md",children:"Get in touch for any inquiry â€“ free consultation island-wide."})]})})]}),t.jsx("section",{className:"py-16 md:py-20 bg-gray-50",children:t.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-12 lg:gap-16 max-w-7xl mx-auto",children:[t.jsx("div",{className:"w-full lg:w-1/2",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 lg:p-10",children:[t.jsxs("div",{className:"text-center mb-10",children:[t.jsx("img",{src:x.logo[0]||"/logo-placeholder.png",alt:`${x.name} Logo`,className:"h-20 mx-auto mb-6 object-contain"}),t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:x.name})]}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(k,{icon:W,className:"text-green-600 text-2xl mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:"Head Office"}),t.jsx("p",{className:"text-gray-700",children:x.address})]})]}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(k,{icon:W,className:"text-green-600 text-2xl mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-gray-900",children:"Colombo Office"}),t.jsx("p",{className:"text-gray-700",children:x.office})]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(k,{icon:ce,className:"text-green-600 text-2xl flex-shrink-0"}),t.jsx("a",{href:`tel:${x.phone.replace(/\s/g,"")}`,className:"text-gray-700 hover:text-green-600 transition",children:x.phone})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(k,{icon:de,className:"text-green-600 text-2xl flex-shrink-0"}),t.jsx("a",{href:`mailto:${x.email}`,className:"text-gray-700 hover:text-green-600 transition",children:x.email})]})]}),t.jsx("div",{className:"mt-12",children:e?t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-8 text-center",children:[t.jsx(k,{icon:ue,className:"text-green-600 text-6xl mb-4"}),t.jsx("h3",{className:"text-2xl font-bold text-green-700 mb-3",children:"Thank You!"}),t.jsx("p",{className:"text-lg text-gray-700",children:"Your inquiry has been sent successfully. We will respond within 24 hours."})]}):t.jsxs("form",{onSubmit:se,className:"space-y-6",children:[i&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg text-center",children:i}),t.jsx("input",{type:"text",name:"name",placeholder:"Your Name *",value:a.name,onChange:q,required:!0,className:"w-full px-5 py-4 bg-gray-50 border border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition"}),r.name&&t.jsx("p",{className:"text-red-500 text-sm -mt-2",children:r.name}),t.jsx("input",{type:"email",name:"email",placeholder:"Your Email *",value:a.email,onChange:q,required:!0,className:"w-full px-5 py-4 bg-gray-50 border border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition"}),r.email&&t.jsx("p",{className:"text-red-500 text-sm -mt-2",children:r.email}),t.jsx("input",{type:"tel",name:"phone",placeholder:"Your Phone (optional)",value:a.phone,onChange:q,className:"w-full px-5 py-4 bg-gray-50 border border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition"}),r.phone&&t.jsx("p",{className:"text-red-500 text-sm -mt-2",children:r.phone}),t.jsxs("select",{name:"inquiry_type",value:a.inquiry_type,onChange:q,required:!0,className:"w-full px-5 py-4 bg-gray-50 border border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition",children:[t.jsx("option",{value:"",children:"Select Inquiry Type *"}),t.jsx("option",{value:"Home Solar Solutions",children:"Home Solar Solutions"}),t.jsx("option",{value:"Industry Solar Solutions",children:"Industry Solar Solutions"}),t.jsx("option",{value:"Automation & Control Systems",children:"Automation & Control Systems"}),t.jsx("option",{value:"General Engineering",children:"General Engineering"}),t.jsx("option",{value:"Other",children:"Other"})]}),r.inquiry_type&&t.jsx("p",{className:"text-red-500 text-sm -mt-2",children:r.inquiry_type}),t.jsx("textarea",{name:"message",rows:"5",placeholder:"Your Message *",value:a.message,onChange:q,required:!0,className:"w-full px-5 py-4 bg-gray-50 border border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition resize-none"}),r.message&&t.jsx("p",{className:"text-red-500 text-sm -mt-2",children:r.message}),t.jsx("button",{type:"submit",disabled:p,className:`w-full py-4 rounded-lg font-medium text-lg transition ${p?"bg-green-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,children:p?"Sending...":"Send Message"})]})})]})}),t.jsxs("div",{className:"w-full lg:w-1/2",children:[t.jsx("h2",{className:"text-3xl font-bold text-center mb-12 text-gray-900",children:"Our Locations"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-12",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("h3",{className:"text-2xl font-bold text-center mb-6 text-gray-900",children:"Head Office"}),t.jsx("div",{ref:u,className:"rounded-2xl overflow-hidden shadow-2xl h-96 relative bg-gray-100",children:y?t.jsxs(t.Fragment,{children:[t.jsx("iframe",{src:y,width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Head Office Location",onLoad:()=>N(!0)}),!L&&t.jsx("div",{className:"absolute inset-0 bg-white/80 flex items-center justify-center",children:t.jsx("p",{className:"text-lg text-gray-700",children:"Loading map..."})})]}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:t.jsx("p",{className:"text-lg",children:"Map loads when in view"})})}),t.jsx("p",{className:"text-center mt-6 text-gray-700 font-medium",children:x.address})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("h3",{className:"text-2xl font-bold text-center mb-6 text-gray-900",children:"Colombo Office"}),t.jsx("div",{ref:g,className:"rounded-2xl overflow-hidden shadow-2xl h-96 relative bg-gray-100",children:E?t.jsxs(t.Fragment,{children:[t.jsx("iframe",{src:E,width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Colombo Office Location",onLoad:()=>m(!0)}),!M&&t.jsx("div",{className:"absolute inset-0 bg-white/80 flex items-center justify-center",children:t.jsx("p",{className:"text-lg text-gray-700",children:"Loading map..."})})]}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:t.jsx("p",{className:"text-lg",children:"Map loads when in view"})})}),t.jsx("p",{className:"text-center mt-6 text-gray-700 font-medium",children:x.office})]})]})]})]})})})]})},$e=()=>t.jsx(xe,{reCaptchaKey:"6Lfxv1gsAAAAAIUJRR_rG5ejpfC-Soh7ga0CMquB",children:t.jsx(Ce,{})});export{$e as default};
