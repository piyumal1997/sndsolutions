import{r,j as e,F as a,y as T,z as W,A as N,B as I,C as Y,D as _,E as B,G as K,H as O,L as z}from"./index-CbYdXu0A.js";const G=()=>{const[s,v]=r.useState(2e4),[o,w]=r.useState("single"),[i,S]=r.useState("financed"),[p,k]=r.useState(5),[u,C]=r.useState(8),[t,P]=r.useState(null),R=()=>{if(isNaN(s)||s<5e3){alert("Please enter a valid monthly bill of at least 5,000 LKR.");return}const n=50,f=125,L=575e3,b=Math.round(s/n),l=Math.ceil(b/f),c=l*L,M=s*12,E=(c/M).toFixed(1),A=Math.round(l*f),F=o==="single"?"Single Phase":"Three Phase";let d="";l>5&&o==="single"?d=`Note: A ${l} kW system typically requires a three-phase connection for optimal performance and load balancing. You selected single-phase, which may limit system size or require upgrades.`:l>5?d=`Note: Your recommended ${l} kW system is suitable for three-phase connection.`:d="Note: Single-phase is sufficient for systems 5 kW or below.";const y={units:b.toLocaleString()+" units",kw:l+" kW",generation:A.toLocaleString()+" units",cost:"Rs. "+Math.round(c).toLocaleString(),payback:E+" years",phase:F,note:d};let g;if(i==="financed"){const x=u/100/12,h=p*12,j=x===0?c/h:c*x*Math.pow(1+x,h)/(Math.pow(1+x,h)-1),m=s-j;g={type:"financed",...y,emi:"Rs. "+Math.round(j).toLocaleString(),savings:m>0?"Rs. "+Math.round(m).toLocaleString():"Rs. "+Math.round(-m).toLocaleString(),savingsPositive:m>0}}else g={type:"cash",...y,savings:Math.round(s).toLocaleString()};P(g)};return e.jsxs("div",{className:"max-w-lg md:max-w-2xl mx-auto relative",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center mb-4",children:"Solar Savings & Loan Calculator"}),e.jsx("p",{className:"text-center text-base md:text-lg text-gray-600 mb-10",children:"Estimate your potential savings with a financed or cash solar system in Sri Lanka."}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bill",className:"block text-base md:text-lg font-semibold text-gray-700 mb-2",children:"Current Monthly Electricity Bill (LKR)"}),e.jsx("input",{type:"number",id:"bill",min:"5000",value:s,onChange:n=>v(parseFloat(n.target.value)),placeholder:"e.g. 20000",className:"w-full px-4 py-3 md:py-4 text-base md:text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition"})]}),e.jsxs("div",{className:"flex flex-col items-center border-1 border-gray-200 p-4 rounded-lg",children:[e.jsx("label",{className:"text-base md:text-lg font-semibold text-gray-700 mb-4",children:"Current Electricity Connection Phase"}),e.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[e.jsx("span",{className:"text-lg font-medium text-gray-600",children:"Single Phase"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o==="three",onChange:()=>w(o==="single"?"three":"single"),className:"sr-only peer"}),e.jsx("div",{className:"w-14 h-8 bg-blue-600 rounded-full peer peer-checked:bg-green-600 after:content-[''] after:absolute after:top-1 after:left-1 after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:after:translate-x-full"})]}),e.jsx("span",{className:"text-lg font-medium text-gray-600",children:"Three Phase"})]}),e.jsx("p",{className:"text-center text-sm text-gray-600 mt-4",children:"Select your current home connection type."})]}),e.jsxs("div",{className:"flex flex-col items-center border-1 border-gray-200 p-4 rounded-lg",children:[e.jsx("label",{className:"text-base md:text-lg font-semibold text-gray-700 mb-4",children:"Installation Option"}),e.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[e.jsx("span",{className:"text-lg font-medium text-gray-600",children:"Cash Purchase"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i==="financed",onChange:()=>S(i==="cash"?"financed":"cash"),className:"sr-only peer"}),e.jsx("div",{className:"w-14 h-8 bg-gray-400 rounded-full peer peer-checked:bg-green-600 after:content-[''] after:absolute after:top-1 after:left-1 after:bg-white after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:after:translate-x-full"})]}),e.jsx("span",{className:"text-lg font-medium text-gray-600",children:"Financed"})]})]}),i==="financed"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"term",className:"block text-base md:text-lg font-semibold text-gray-700 mb-2",children:"Loan Term (Years)"}),e.jsxs("select",{id:"term",value:p,onChange:n=>k(parseInt(n.target.value)),className:"w-full px-4 py-3 md:py-4 text-base md:text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition",children:[e.jsx("option",{value:3,children:"3 Years"}),e.jsx("option",{value:5,children:"5 Years"}),e.jsx("option",{value:7,children:"7 Years"}),e.jsx("option",{value:10,children:"10 Years"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"rate",className:"block text-base md:text-lg font-semibold text-gray-700 mb-2",children:"Annual Interest Rate (%)"}),e.jsx("input",{type:"number",id:"rate",step:"0.1",value:u,onChange:n=>C(parseFloat(n.target.value)),placeholder:"e.g. 0 for 0% plans, 8 for bank loans",className:"w-full px-4 py-3 md:py-4 text-base md:text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition"})]})]}),e.jsx("button",{onClick:R,className:"w-full mt-8 py-4 md:py-5 bg-green-600 hover:bg-green-700 text-white font-bold text-lg md:text-xl rounded-lg shadow-md transition transform hover:scale-105",children:"Calculate Savings"})]}),t&&e.jsxs("div",{className:"mt-12 bg-white rounded-2xl shadow-xl p-6 md:p-8 space-y-6",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center text-gray-900",children:t.type==="financed"?"Financed Option (With Loan)":"Cash Purchase Option (Loan-Free)"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 text-center shadow-md",children:[e.jsx(a,{icon:T,className:"text-green-600 text-4xl mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Connection Type"}),e.jsx("p",{className:"text-xl font-bold",children:t.phase})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 text-center shadow-md",children:[e.jsx(a,{icon:W,className:"text-green-600 text-4xl mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Estimated Consumption"}),e.jsx("p",{className:"text-xl font-bold",children:t.units})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 text-center shadow-md",children:[e.jsx(a,{icon:N,className:"text-green-600 text-4xl mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Recommended System Size"}),e.jsx("p",{className:"text-xl font-bold",children:t.kw})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 text-center shadow-md",children:[e.jsx(a,{icon:N,className:"text-green-600 text-4xl mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Avg Monthly Generation"}),e.jsx("p",{className:"text-xl font-bold",children:t.generation})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 text-center shadow-md",children:[e.jsx(a,{icon:I,className:"text-green-600 text-4xl mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:t.type==="financed"?"Total System Cost":"Upfront Cost"}),e.jsx("p",{className:"text-xl font-bold",children:t.cost})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 text-center shadow-md",children:[e.jsx(a,{icon:Y,className:"text-green-600 text-4xl mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:t.type==="financed"?"Monthly EMI":"Immediate Monthly Savings"}),e.jsx("p",{className:`text-xl font-bold ${t.savingsPositive?"text-green-600":"text-red-600"}`,children:t.type==="financed"?t.emi:`Rs. ${t.savings}`})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-5 text-center shadow-md",children:[e.jsx(a,{icon:_,className:"text-green-600 text-4xl mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Payback Period"}),e.jsx("p",{className:"text-xl font-bold",children:t.payback})]}),t.note&&e.jsxs("div",{className:"bg-orange-50 rounded-lg p-5 text-center shadow-md md:col-span-3",children:[e.jsx(a,{icon:B,className:"text-orange-600 text-4xl mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Important Note"}),e.jsx("p",{className:"text-lg font-semibold text-orange-700",children:t.note})]})]})]}),e.jsxs("div",{className:"mt-12 bg-gray-100 rounded-2xl p-6 md:p-8 text-sm md:text-base text-gray-600",children:[e.jsx("strong",{className:"block mb-3 text-lg text-gray-800",children:"Assumptions (Sri Lanka market ~2026):"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 font-semibold",children:[e.jsx("li",{children:"Average effective electricity rate: 50 LKR/unit"}),e.jsx("li",{children:"Average monthly production: 125 units per kW (Colombo/Western Province)"}),e.jsx("li",{children:"Cost per kW: ~575,000 LKR (Depends on the market ratio and other factors.)"}),e.jsx("li",{children:"System sized to fully offset your bill"}),e.jsx("li",{children:"Fixed charges & connection fees ignored for simplicity"})]}),e.jsxs("p",{className:"text-md font-semibold mt-4",children:[e.jsx("span",{className:"text-red-700",children:"This is an estimate only."})," "," ","Actual costs, production, and suitability vary by provider, roof, and connection type."]})]})]})},D=()=>{const s=K();return e.jsx("main",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("button",{onClick:()=>s("/solar-energy"),className:"mb-8 flex items-center gap-2 text-green-600 hover:text-green-800 font-medium text-lg transition",children:[e.jsx(a,{icon:O}),"Back to Solar & Energy Systems"]}),e.jsx(G,{}),e.jsx("div",{className:"mt-12 text-center text-gray-600",children:e.jsxs("p",{className:"text-xl font-semibold mb-4",children:["Need personalized advice? ",e.jsx(z,{to:"/contact",className:"text-green-600 hover:underline font-medium",children:"Contact us"})," for a free consultation."]})})]})})};export{D as default};
